<mat-card class="hours-chart-card">
  <mat-card-header>
    <mat-card-title>Hours by Date and Category</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <!-- Chart -->
    <div class="chart-container">
      <apx-chart
        #chart
        [series]="chartOptions.series"
        [chart]="chartOptions.chart"
        [xaxis]="chartOptions.xaxis"
        [yaxis]="chartOptions.yaxis"
        [dataLabels]="chartOptions.dataLabels"
        [plotOptions]="chartOptions.plotOptions"
        [legend]="chartOptions.legend"
        [fill]="chartOptions.fill"
        [tooltip]="chartOptions.tooltip"
        [stroke]="chartOptions.stroke"
        [colors]="chartOptions.colors"
      ></apx-chart>
    </div>

    <div
      class="debug-info"
      style="margin-top: 10px; padding: 10px; background: #f5f5f5; border-radius: 4px"
    >
      <h4>Debug Information:</h4>
      <p><strong>Loading:</strong> {{ loading() }}</p>
      <p>
        <strong>Date Range:</strong> {{ startDate | date : 'shortDate' }} to
        {{ endDate | date : 'shortDate' }}
      </p>
      <p><strong>Chart Data Days:</strong> {{ chartData().length }}</p>
      <p><strong>Current Period:</strong> {{ currentPeriod }}</p>
      @if (chartData().length > 0) {
        <div>
          <p><strong>Sample Data:</strong></p>
          <pre>{{ chartData() | json }}</pre>
        </div>
      }
    </div>

    @if (loading()) {
      <div class="loading">
        <p>Loading chart data...</p>
      </div>
    } @else if (chartData().length === 0) {
      <div class="no-data">
        <p>No data available for the selected period.</p>
      </div>
    }
  </mat-card-content>
</mat-card>
